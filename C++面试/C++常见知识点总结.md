## C++常见知识点总结



### 1. 某文件中定义的静态全局变量(静态外部变量(函数外部定义))其作用域是？

本文件，静态全局变量限制了其作用域，导致该变量只能在其所在的源文件有效。正是因为作用域局限于一个源文件内，因此可以避免其他源文件中同名变量引起的错误。如果当前源文件已经有同名静态变量，会优先使用静态变量。

### 2. 通常使用`__plusplus`来判断一段程序是使用C++编译器编译的还是使用C编译器编译的

```cpp
#ifdef __cplusplus
  // C++
#else
 //C
#endif
```

### 3. C++函数中值的传递方式有哪几种，以及相互之间的区别

C++函数有三种传递方式：值传递、指针传递和引用传递

- 指针有自己的内存空间，引用知识一个别名
- `sizeof`计算指针的大小为4,而引用的大小为对象的大小
- 可以用`const`指针但是不能有`const`引用

```cpp
int * const data = &dataSize;   // 可以有const指针
int & const data = dataSize;    // 但是引用不能是const的， 但是别名可以定义成const，其实这一切都是因为引用只是值得别名
const & int data = dataSize;   // 引用的别名是可以定义为const的
```

- 指针可以被初始化为`nullptr`，但是引用必须被初始化，且必须是一个已有对象的引用
- 指针可以一有多级指针(**p)，而引用只能有一级

### 4. new在C++中是？

关键字和运算符，`malloc`是库函数，不在编译器控制范围之内；`new`是运算符，在编译器控制范围之内；调用`malloc`时，从堆中申请内存；调用`new`时，从堆中申请内存并为内存调用构造函数。

C++程序执行时将内存大方向分为4个区域：

- 代码区域：存放函数体的二进制代码，由操作系统进行管理的
- 全局区：存放全局变量和静态变量以及常量
- 栈区：由编译器自动分配释放，存放函数的参数值，局部变量等
- 堆区：由程序员分配和释放，若程序员不释放程序结束时由操作系统回收

### 5. 多态的作用以及产生条件

多态是指不同的子类在继承父类后分别都重写覆盖了父类的方法，即父类同一个方法，在继承的子类中表现出不同的形式。因此可以实现调用同一函数能产生不同的行为

产生条件：

- 调用函数的对象必须是指针或者引用
- 被调用的函数必须是虚函数，且完成了虚函数的重写

作用：

1. 隐藏实现细节，使得代码能够模块化；扩展代码模块，实现代码重用
2. 接口重用